<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Light Control</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
		<div class="container text-center mt-3">
			<h1 class="h3">ðŸŒµ Light Control</h1>
			<div id="timetable">
				<table class="table table-sm" style="font-size:0.8em !important">
					<tbody>
						<tr><th scope="row" class="text-end">Current State:</th><td id='cs' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
						<tr><th scope="row" class="text-end">Current Time:</th> <td id='ct' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
						<tr><th scope="row" class="text-end">Right On:</th>     <td id='rn' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
						<tr><th scope="row" class="text-end">Left On:</th>      <td id='ln' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
						<tr><th scope="row" class="text-end">Right Off:</th>    <td id='rf' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
						<tr><th scope="row" class="text-end">Left Off:</th>     <td id='lf' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
						<tr><th scope="row" class="text-end">Midnight:</th>     <td id='mn' class="font-monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
					</tbody>
				</table>
			</div>
			<div class="row">
				<div class="col p-1">
					<a class="btn btn-outline-primary w-100" href="/man">Manual</a>
				</div>
			</div>
			<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
			<script>
				function change_time_table(data){
					$('#cs').text(data.cs);
					$('#ct').text(data.ct);
					$('#rn').text(data.rn);
					$('#ln').text(data.ln);
					$('#rf').text(data.rf);
					$('#lf').text(data.lf);
					$('#mn').text(data.mn);
				}
				$(function(){$.getJSON('/timetable', {}, function(data){change_time_table(data);});});
				setInterval(function(){
					$.getJSON('/timetable', function(data){change_time_table(data);});
				}, 1000);
			</script>
	</body>
</html>
